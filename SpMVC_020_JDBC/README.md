#Spring JDBC Project

## java method 호출과 parameter(argument, 매개변수)

* method (함수)를 호출할때 단순히 호출 하는 방법과 어떤 데이터를 전달하면서 호출하는 방법이 있다 

* 단순히 호출하는 방법은 함수내에서 데이터를 만들고, 데이터를 연산하고, 데이터를 출력하는 대부분의 기능을 구현한다
	경우에 따라 전역적(public)으로 선언된 변수를 공유하면서 연산을 수행하기도 한다
	전역변수로 공유하면서 연산을 수행하는 것은 매우 불편한 코드가 만들어지고
	관리가 어렵고, bug가 발생할 확률이매우 높다
	
* 데이터를 전달하면서 함수를 호출하는 방법은 호출하는 곳에서 
	미리 데이터를 준비하고 함수에서는 전달 받은 데이터를 연산하여 출력하거나 또는 return 


## 매개변수 전달방식	
* Call by Value, Call By Reference, Call By Name 


### Call by Value
* java에서 함수에 직접 전달하기
ex ) add(300, 400)..

* promitive 변수에 값을 담고 전달하는 방식
ex ) int num1 =300 ,num2=400
add(num1, num2)

* 매개변수로 데이터를 전달받은 함수에서데이터를 변환하여도
	원래원본 데이터는 변함이 없다
	
	* 프로그래밍에서 가장 안전한 데이터 전달방식이다
* 연산된 결과를 return 하지 않으면 어떻게 연산이 되었는지 알수 있는 방법이 없다.

### Call by Reference
* 함수에 매개변수를 전달할때 값을 전달하지 않고
값이 저장된 기억장소의 주소를 전달하는 방식

* 우리집에 독특한 비빔밥을 만드는 레시피가 있다 그 레시피는 우리집 만의 재료에 대한 정보가 있다
친구가 우리집 비빔밥을 먹어보고 어떻게 만드는지 물어본다말로써 주저리 주저리 설명하지 않고 우리집 주소를 알려주고 우리집 냉장고에 재료가 있으니 만들어 먹어라라고 한다
우리집 냉장고에 방문하여 냉장고안의 재료를 가지고 비빔밥을 만들어 먹고재료를 모두 소진한것이 미안하여 한우 등심을 사서 냉장고에 넣어둔다
저녘에 집에가서 비빔밥을 만들려고 냉장고를 열었더니 재료가 바뀌었다 

*Call by Reference로 데이터를 전달받은 함수에서 변수의 값을 변경하면 원래 저장된 기억장소의 데이터가 변경되어 호출하기 이전에 만들어진 변수가 값이 바뀌게 된다.

* C, C++에서는 포인터 라는 개념을 사용하여 Call By Reference를 구현한다
*Java에서는 매개변수의 전달하는 개념이 모두 Call By Value이다 
다만 내부에 다른 요소를 포함하는 (VO, List, Map)로 
생성한 변수를 함수에 매개변수로 전달 하였을 경우, 함수에서 전달받은 변수의 일부 요소를 변경, 추가, 삭제 하면 원래 원본의 데이터에 변화가 생긴다 

*단, 함수내에서 객체를 새로 생성 (new...)하면 원본 데이터와 다른 데이터가 생성되는 결과가 되므로 
원본데이터에는 변화가 없다,.

* Java는 클래스 type으로 변수를 만들때는 이러한 부분을 상당히 신경써야 한다
* 다만, 이러한 기능을 십분 활용한 다양한 코드방법이 있다

* 이러한 기능을 활용한 대표적인 코딩이 Spring 의 Controller내의 함수들이다,


### 스프링에서 컨트롤러에 함수  컨트롤러의 함수들이 매개변수를 관리하는 방법 
* 함수들을 선언할 때 다양한 매개변수를 설정 할 수 있다
* 종류 , 개수에관계없이 자유롭게 필요한 매개변수를 설정하면 
Spring Container는 Controller 를 Bean을 생성할때 
	각 함수의 시그니처에 맡도록 호출 코드를 생성해 둔다
	void add(int num, int num2), void add(String s1, String s2) 
	* 매개변수에 설정되는 클래스 타입 변수중 일부는 함수내에서 값을 변화(add, set remove, clear를 수행하면 변수의 값이 변화 되었다는 것을 Spring Container가 인지하고 적절하게 반응 한다.
	*그러한 클래스형 변수중 대표적으로 Model, HttpSession등이 있다.
	

# HTTP Protocol, Web Service 의 Session

## Session 
*point to point 관계에서 한번 연결이 이루어지면 
파이프 라인 과 같은 통로가 생성되고 , 그통로를 통하여 데이터를 전송(주고받기)_하는 개념
* ㅇㅖ ) DBMS를 사용할때 사용자ID, Passwor를 사용하여 연결을 하면 임의로 연결을 끊기 전까지 연결이 유지되어 언제든지 명령을 보내고 데이터를 받을 수 있다.

## HTTP Protocol에서는 기본적으로 Session이 없다
* statusless(상태가 없다)라고표현한다
* client에서 Request를 내면 Server는 적절한 연산을 수행한 후 Response를 하고 연결이 즉시 종료가 된다 

## login 개념
* Web Service 로 구현한 여러 페이지 중에서 특정한 사용자권한을 가진 경우만 볼수 잇는 페이지가 있다고 하자

* client가 request를 보내면, 사용자의요청을 처리하기전에 권한을 가진 사용자 인지 검증을 해야한다
검증이 정상이면 연산을 수행한 후 , 사용자에게 Reponse를 시켜야 한다 

* 이때 각 페이지마다 사용자의 정보를 수집하고 인증하고 정상인지 판단 하여야 한다면 많은 어려움과 불편함이 있을 것이다.

## HTTP Session 
* 사태가 없는( 상태가 유지되지 않는 ) Web Service 환경에서는 접근하는 사용자 정보를 확인하기 위하여매번 메뉴ㅜ등 을 클릭 할때 사용자 젖ㅇ보를 입력하고 시작해야하는 방법으로 사용해야한ㅏㄷ
* 매우 초창기 웹애서는 그러한 방법을 사용하기도 했다
* 이후에 HttpSession 이라는 개념이 탄생되고, 초기 기술로 Cookies라는 기술이 생겨 났다.
* 사용자가 최초로 로그인 기능을 요청하여 로그인이 허락되면 서버에서 아주 작은 문자열 하나를 클라이언트에게 전달한다(기술적인 규격이 정해진 문자열)
*client 는 서버로부터 ㄴ쿠키가 전달되면 운영체제의 정해진 폴더에 해당 파일을 저장해놓는 다 
쿠키에는 해당 서버에 주소와 사용자 정보 등이 기록되어있다

* 이후에 client가 해당 Server에 Request 를 보매념 Browser는 Cookies가 저장된 폴더에서 해당 Server정보가담긴 Cookeie가 있는지 검사한다
* 있으면 Http protocol에 Cookies정보를 같이 포함하여 서버로 전송한다
* Server에서는 Http protocol 에 Cookies 정보가 담겨있으면 그 정보를 바탕으로 다시한번 인증을 수행한다 

*문제는 Cookie 가 아무나 읽을 수 있는 일반(암호화되지않는(Text file이다
* 해커에의해 언제든지 탈취될수 있고 변형될수 있는 매우 보안에 취약한 기술이다,\

* Cookie의 이러한 단점을 보완한 기술이 httpSession이다

## HTTPSession을 사용한 Session유지 기술

* login 이 수행되어 정상적인 인증 절차가 완료되면'
* Server 는 Session객체를 하나 생성하여 서버 메모리에 저장한다
* 여기에는 다양한정보(속성, Atturibute)를 포함하여 저장할 수 있다
* 그리고 이 메모리의 주소를 특별한 방법으로 Hash하여 ID값을 만들어낸다, 이 값을 Session ID라고 한다
* 이 Session ID를 Client에게 Cookie형태로 전달한다
* 이후에 같은 서버에 요ㅛㅛ청을 보내면 Brewser	는 SessioID를 같이 HTTPprotocol에 실어서 보낸다 
* Cookie에 비하면 중요한 정보가 Serve에 저장되므로 안전하다
* 단 , Session이 많아 지면 섭의 메모리 사용량이 많아진다 
* 이 HTTPSession은 현존하는 Web Servic에서 모두 지원하고가장 많이 사용하는 방법이다
* 또한 매우 쉽게 구현할 수 있다 

